<template name="nav">
  <div class="ui menu global-menu {{isAdmin "admin-glow"}}">
    <div class="header item">Projekt</div>
    <a class="item {{isActiveRoute 'root'}}" href="{{pathFor '/'}}">Dashboard</a>
    <a class="item {{isActiveRoute 'projects'}}" href="{{pathFor '/projects'}}">Projects</a>
    <a class="item {{isActiveRoute 'projectsNew'}}" href="{{pathFor '/projectsNew'}}">Proj New</a>
    <a class="item {{isActiveRoute 'tasks'}}" href="{{pathFor '/tasks'}}">Tasks</a>
    <a class="item {{isActiveRoute 'users'}}" href="{{pathFor '/users'}}">Users</a>
    <a class="item {{isActiveRoute 'reports'}}" href="{{pathFor '/reports'}}">Reports</a>
    {{#if isInRole "admin"}}
      <a class="item {{isActiveRoute 'test'}}" href="{{pathFor '/test/data'}}">Test Data</a>
    {{/if}}
    <div class="right menu">
      {{#if currentUser}}
        {{>loggedInMenu}}
      {{else}}
        {{>loggedOutMenu}}
      {{/if}}
    </div>
  </div>
  {{> userLogoutModal}}
</template>


<template name="loggedInMenu">
  <div class="ui item">
    <i class="inbox icon inbox-icon"></i>
    <i class="heart icon favorite-icon"></i>
    {{#if isInRole "admin"}}
      <i class="world icon admin-icon"></i>
    {{/if}}
    <i class="settings icon profile-icon"></i>
    <i class="remove icon signout-icon login-button" id="login-buttons-logout"></i>
  </div>
</template>

<template name="loggedOutMenu">
  <!-- TODO: login functions -->
  <a class="ui item login" href="{{pathFor '/sign-in'}}">Sign In</a>
</template>

<template name="userLogoutModal">
  <div class="ui small modal user-logout-modal">
    <div class="header">Logout</div>
    <div class="content">
      <p>Are you sure you want to logout?</p>
    </div>
    <div class="actions">
      <div class="ui negative button">No</div>
      <div class="ui positive button">Yes</div>
    </div>
  </div>
</template>
